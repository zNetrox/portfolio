---
import Layout from '../layouts/Layout.astro';
import Header from '../components/header.astro';
import Footer from '../components/footer.astro';
import Menu from '../components/menu.astro';
import Cursor from '../components/cursor.astro';
import Loader from '../components/loader.astro';
import '../styles/global.css';
---

<Layout title="Accueil">
	<Loader/>
	<Cursor/>
	<Menu/>
	<Header/>
	<section class="index-hero-banner">
		<div class="part-1">
			<h1><span>Bonjour, je suis</span><br><span>Galiano Enzo</span></h1>
			<span class="line"></span>
		</div>
		<div class="part-2">
			<div id="tiles-1">
				<div><span></span></div>
				<div><span></span></div>
				<div><span></span></div>
				<div><span></span></div>
				<div><span></span></div>
			</div>
			<div id="tiles-2">
				<div><span></span></div>
				<div><span></span></div>
				<div><span></span></div>
				<div><span></span></div>
				<div><span></span></div>
			</div>
			<p>Je suis actuellement en classe de terminale STI2D avec l'enseignement spécifique "système d'information et numérique (SIN)".</p>
		</div>
	</section>
	<section class="index-sec-1">
		<div class="text">
			<h2>Mes Objectifs</h2>
			<p>Mon objectif premier est créer une experience web inoubliable en combinant esthétisme et fonctionnalité. Pour cela il me faut donc affiner mes competences en tant que développeur web front-end. Je suis quelqu'un de motiver qui aime apprendre de nouvelles choses.</p>
		</div>
		<div class="rotating-text">
			<div>
				<div class="circle-text">
					<svg viewBox="0 0 100 100" width="100" height="100">
						<defs>
						  <path id="circle"
							d="M 50, 50 m -37, 0 a 37,37 0 1,1 74,0 a 37,37 0 1,1 -74,0"/>
						</defs>
						<text font-size="14">
						  <textPath xlink:href="#circle">
							MES OBJECTIFS - MES OBJECTIFS -
						  </textPath>
						</text>
					  </svg>
				</div>
				<div id="container-star">
					<div>
						<div>
							<div id="star">
								<div>
									<span></span>
									<span></span>
									<span></span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<section class="index-sec-2">
		<div id="tiles-3">
			<div><span></span></div>
			<div><span></span></div>
			<div><span></span></div>
			<div><span></span></div>
		</div>
		<div class="my-projects">
			<div>
				<span class="line"></span>
				<h2>Mes Differents<br> Projets</h2>
			</div>
			<div>
				<a class="cercle-button over-opacity" href="#">
					<div class="arrow">
						<div><span></span></div>
						<div><span></span></div>
						<div><span></span></div>
					</div>
				</a>
			</div>
		</div>
		<div class="list-fovorite-project">
			<h4>Mes Projets Favoris</h4>
			<span class="line"></span>
			<a class="project over-image" data-image="picture-poker" href="#">
				<div class="project-counter">1</div>
				<div class="project-name">
					<p>Picture Poker</p>
					<p>Mini Jeu | 2024 | HTML5 | CSS3 | JavaScript</p>
				</div>
			</a>
			<span class="line"></span>
			<a class="project over-image" data-image="aesthetic" href="#">
				<div class="project-counter">2</div>
				<div class="project-name">
					<p>Aesthetic</p>
					<p>Site Web | 2023 | HTML5 | CSS3 | JavaScript</p>
				</div>
			</a>
			<span class="line"></span>
		</div>
		<div id="tiles-4">
			<div><span></span></div>
			<div><span></span></div>
		</div>
		<div id="tiles-5">
			<div><span></span></div>
		</div>
	</section>
	<Footer/>
</Layout>

<script>
	import { animTiles } from '../js/libray.js'
	import { animLine } from '../js/libray.js'
	import { animOpacity } from '../js/libray.js'
	import { animSlide } from '../js/libray.js'
	import { animRotateScroll } from '../js/libray.js'

	const ratioTrigger = "top 80%"
	const ratioTriggerFullPage = "top bottom"

	// hero banner

	animLine('.hero-banner .line', ratioTriggerFullPage, '.hero-banner .line')
	animOpacity('.hero-banner .line', ratioTriggerFullPage, '.hero-banner p', 1)

	animTiles('#tiles-1', ratioTriggerFullPage, 
	[
	    '#tiles-1 div:nth-child(1)',
	    '#tiles-1 div:nth-child(2)',
	    '#tiles-1 div:nth-child(3)',
	    '#tiles-1 div:nth-child(4)',
	    '#tiles-1 div:nth-child(5)',
	    '#tiles-2 div:nth-child(1)',
	    '#tiles-2 div:nth-child(2)',
	    '#tiles-2 div:nth-child(3)',
	    '#tiles-2 div:nth-child(4)',
	    '#tiles-2 div:nth-child(5)',
	], 
	[
		{ x: '0', y: '100%' },
		{ x: '0', y: '150%' },
		{ x: '0', y: '125%' },
		{ x: '0', y: '225%' },
		{ x: '0', y: '175%' },
		{ x: '0', y: '-175%' },
		{ x: '0', y: '-225%' },
		{ x: '0', y: '-125%' },
		{ x: '0', y: '-150%' },
		{ x: '0', y: '-100%' }
	])

	// section 2

	animSlide('.index-sec-1 .text', ratioTrigger, '.index-sec-1 h2', -200, 0, 0)
	animSlide('.index-sec-1 .text', ratioTrigger, '.index-sec-1 p', -200, 0, 0.1)

	animRotateScroll('.rotating-text', ratioTriggerFullPage, '.index-sec-1 svg', '+', 3)
	animRotateScroll('.rotating-text', ratioTriggerFullPage, '.index-sec-1 #container-star > div', '-', 3)

	// section 3

	animSlide('.my-projects h2', ratioTrigger, '.my-projects h2', -100, 0, 0.3)
	animSlide('.list-fovorite-project h4', ratioTrigger, '.list-fovorite-project h4', 0, 50, 0.3)

	document.querySelectorAll('.project').forEach(project => {
		animSlide(project, ratioTrigger, project.querySelector('.project-name p:last-child'), 0, '500%', 0.2)
		animSlide(project, ratioTrigger, project.querySelector('.project-counter'), 0, '100%', 0.3)
		animSlide(project, ratioTrigger, project.querySelector('.project-name p:first-child'), 0, '70%', 0)
	})

	document.querySelectorAll('.index-sec-2 .line').forEach(line => {
		animLine(line, ratioTrigger, line)
	})

	animTiles('#tiles-3', ratioTrigger,
	[
	    '#tiles-3 div:nth-child(1)',
	    '#tiles-3 div:nth-child(2)',
	    '#tiles-3 div:nth-child(3)',
	    '#tiles-3 div:nth-child(4)',
	],
	[
		{ x: '-150%', y: '0' },
		{ x: '-100%', y: '0' },
		{ x: '0', y: '100%' },
		{ x: '0', y: '150%' },
	])

	animTiles('#tiles-4', ratioTrigger,
	[
		'#tiles-4 div:nth-child(1)',
	    '#tiles-4 div:nth-child(2)',
	    '#tiles-5 div:nth-child(1)',
	],
	[
		{ x: '125%', y: '0' },
		{ x: '150%', y: '0' },
		{ x: '-125%', y: '0' },
	])
</script>