---
import Layout from '../layouts/Layout.astro';
import Header from '../components/header.astro';
import Footer from '../components/footer.astro';
import Menu from '../components/menu.astro';
import Cursor from '../components/cursor.astro';
import Loader from '../components/loader.astro';
import List from '../components/list-link.astro';
import '../styles/global.css';
---

<Layout title="CompÃ©tences">
	<Cursor/>
	<Menu/>
	<Header/>
	<section class="sec-1">
	<div class="part-1">
		<h1>Mes Projets</h1>
		<span class="line"></span>
	</div>

	</section>

	<section class="sec-2">
		<div id="tiles-1">
			<div><span></span></div>
			<div><span></span></div>
		</div>
		<div class="list-container">
			<ul>
				<span class="line"></span>
				<List
					title= "Picture Poker"
					date="2024"
					linkGit="https://gsap.com/"
					linkSite="https://gsap.com/"
				/>
				<List
					title= "Aesthetic"
					date="2023"
					linkGit="https://gsap.com/"
					linkSite="https://gsap.com/"
				/>
				<List
					title= "Memory"
					date="2023"
					linkGit="https://gsap.com/"
					linkSite="https://gsap.com/"
				/>
				<List
					title= "Tic-Tac-Toe"
					date="2023"
					linkGit="https://gsap.com/"
					linkSite="https://gsap.com/"
				/>
				<List
					title= "Calculateur Age"
					date="2023"
					linkGit="https://gsap.com/"
					linkSite="https://gsap.com/"
				/>
			</ul>
		</div>
		<div id="tiles-2">
			<div><span></span></div>
			<div><span></span></div>
			<div><span></span></div>
		</div>
	</section>
	<Footer/>
</Layout>

<style>
	.sec-1 {
        position: relative;
	}

    .sec-1 .part-1 {
        position: relative;
        display: flex;
        align-items: center;
        height: 40vh;
        width: min-content;
	}

    .sec-1 .part-1 h1 {
        padding-left: 2vw;
        font-size: clamp(3.4375rem,-0.0481rem + 11.1538vw,12.5rem);
        font-weight: 800;
		white-space: nowrap;
	}

    .sec-1 .part-1 .line {
        position: absolute;
        bottom: 0;
	}

    #tiles-1 {
		grid-template-columns: repeat(2, var(--tile-width));
		grid-template-rows: repeat(2, var(--tile-width));
		transform: translate(-25%, -50%);
		top: 0;
		right: 0;
	}

	#tiles-1 div:nth-child(1) span { transform: translate(1px, 1px); }
	#tiles-1 div:nth-child(1) { grid-area: 1 / 1 / 2 / 2; }

	#tiles-1 div:nth-child(2) span { transform: translate(0, 0); }
	#tiles-1 div:nth-child(2) { grid-area: 2 / 2 / 3 / 3; }

	@media (max-width: 900px) {
        #tiles-1  {
			transform: translate(0, -1px);
			top: 0;
			left: 0;
        }

		#tiles-1 div:nth-child(1) span { transform: translate(0, 0); }
		#tiles-1 div:nth-child(1) { grid-area: 1 / 1 / 2 / 2; }

		#tiles-1 div:nth-child(2) span { transform: translate(-1px, 0); }
		#tiles-1 div:nth-child(2) { grid-area: 1 / 2 / 2 / 3; }
    }

	.sec-2 {
		position: relative;
        display: flex;
		justify-content: end;
		padding: calc(var(--tile-width) * 1.5) 2vw calc(var(--tile-width) * 1.5) 0;
    }

	.list-container {
		width: 55%;
	}

	@media (max-width: 700px) {
        .list-container {
            width: 98%;
        }
    }

	#tiles-2 {
		grid-template-columns: repeat(3, var(--tile-width));
		grid-template-rows: repeat(1, var(--tile-width));
		bottom: 0;
		right: 0;
	}

	#tiles-2 div:nth-child(1) span { transform: translate(1px, 0); }
	#tiles-2 div:nth-child(1) { grid-area: 1 / 1 / 2 / 2; }

	#tiles-2 div:nth-child(2) { grid-area: 1 / 2 / 2 / 3; }

	#tiles-2 div:nth-child(3) span { transform: translate(-1px, 0); }
	#tiles-2 div:nth-child(3) { grid-area: 1 / 3 / 2 / 4; }
</style>

<script>
	import { animTiles } from '../js/libray.js'
	import { animLine } from '../js/libray.js'

	const ratioTrigger = "top 80%"
	const ratioTriggerFullPage = "top bottom"

	animLine('.sec-1 .line', ratioTriggerFullPage, '.sec-1 .line')

	animTiles('#tiles-1', ratioTrigger, 
	[
	    '#tiles-1 div:nth-child(1)',
	    '#tiles-1 div:nth-child(2)',
	], 
	[
		{ x: '-50%', y: '0' },
		{ x: '50%', y: '0' },

	])

	animTiles('#tiles-2', ratioTrigger, 
	[
	    '#tiles-2 div:nth-child(1)',
	    '#tiles-2 div:nth-child(2)',
	    '#tiles-2 div:nth-child(3)',
	], 
	[
		{ x: '-100%', y: '0' },
		{ x: '-125%', y: '0' },
		{ x: '-150%', y: '0' },
	])
</script>