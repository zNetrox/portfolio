---
interface Props {
    title: string;
    date: string;
    slug: string;
    nameImgFile: string;
}

const { title, date ,slug, nameImgFile } = Astro.props
---

<li class="list-link over-opacity" data-image={nameImgFile}>
    <a href={slug}>
        <div class="switch-text">
            <div>
                <p class="title">{title}</p>
            </div>
            <div>
                <div class="cercle-button">
                    <div class="arrow">
                        <div><span></span></div>
                        <div><span></span></div>
                        <div><span></span></div>
                    </div>
                </div>
                <p class="title">En savoir plus</p>
            </div>
        </div>
        <div class="date">
            <p class="date">{date}</p>
        </div>
    </a>
</li>
<span class="line"></span>

<script>
    import { ratio } from '../js/animation.js'
    import { animLineScroll } from '../js/animation.js'
    import { animSlideScroll } from '../js/animation.js'
    import { pointerRemoveScroll } from '../js/animation.js'

	document.querySelectorAll('ul .line').forEach(line => {
		animLineScroll(line, ratio.basic, line)
	})

    document.querySelectorAll('ul li').forEach(li => {
		animSlideScroll(li.querySelector('div:nth-child(1) .title'), ratio.basic, li.querySelector('div:nth-child(1) .title'), 0, '50%', 0)
		animSlideScroll(li.querySelector('div:nth-child(1) .title'), ratio.basic, li.querySelector('.date'), '-100%', 0, 0)
        pointerRemoveScroll(li.querySelector('div:first-child .title'), ratio.basic, li)
	})
</script>